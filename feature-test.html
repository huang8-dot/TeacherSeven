<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠŸèƒ½æµ‹è¯• Feature Test</title>
    <link rel="stylesheet" href="visual-effects.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .test-header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .test-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }
        
        .test-card:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .test-card h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: #3498db;
        }
        
        .test-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .test-btn:active {
            transform: translateY(0);
        }
        
        .test-btn.success {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .test-btn.warning {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        }
        
        .test-btn.danger {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        .test-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .test-result.pass {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }
        
        .test-result.fail {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }
        
        .test-result.info {
            background: rgba(52, 152, 219, 0.2);
            color: #3498db;
        }
        
        .test-section {
            margin-bottom: 30px;
        }
        
        .test-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #f1c40f;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(241, 196, 15, 0.3);
        }
        
        .footer-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 40px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.4);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ğŸ§ª åŠŸèƒ½æµ‹è¯• Feature Test</h1>
            <p>æµ‹è¯•åƒµå°¸æ¨¡å¼å¢å¼ºç‰ˆçš„æ‰€æœ‰åŠŸèƒ½ Test all features of Zombie Mode Enhanced</p>
        </div>

        <div class="test-section">
            <h2>ğŸ¨ è§†è§‰æ•ˆæœæµ‹è¯• Visual Effects Test</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>ç²’å­æ•ˆæœ Particle Effects</h3>
                    <button class="test-btn" onclick="testHeartParticles()">çˆ±å¿ƒç²’å­ Heart</button>
                    <button class="test-btn" onclick="testCoinParticles()">é‡‘å¸ç²’å­ Coin</button>
                    <button class="test-btn" onclick="testStarParticles()">æ˜Ÿæ˜Ÿç²’å­ Star</button>
                    <button class="test-btn" onclick="testMagicParticles()">é­”æ³•ç²’å­ Magic</button>
                    <button class="test-btn danger" onclick="testExplosion()">çˆ†ç‚¸æ•ˆæœ Explosion</button>
                    <div class="test-result info" id="particleResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•ç²’å­æ•ˆæœ Click buttons to test particle effects</div>
                </div>

                <div class="test-card">
                    <h3>å±å¹•æ•ˆæœ Screen Effects</h3>
                    <button class="test-btn warning" onclick="testScreenShake()">å±å¹•æŠ–åŠ¨ Screen Shake</button>
                    <button class="test-btn" onclick="testFlashEffect()">é—ªå…‰æ•ˆæœ Flash</button>
                    <button class="test-btn success" onclick="testGlowEffect()">å‘å…‰æ•ˆæœ Glow</button>
                    <div class="test-result info" id="screenResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•å±å¹•æ•ˆæœ Click buttons to test screen effects</div>
                </div>

                <div class="test-card">
                    <h3>åŠ¨ç”»æ•ˆæœ Animation Effects</h3>
                    <button class="test-btn" onclick="testPulseEffect()">è„‰å†²æ•ˆæœ Pulse</button>
                    <button class="test-btn" onclick="testFloatEffect()">æµ®åŠ¨æ•ˆæœ Float</button>
                    <button class="test-btn" onclick="testSpinEffect()">æ—‹è½¬æ•ˆæœ Spin</button>
                    <button class="test-btn" onclick="testBounceEffect()">å¼¹è·³æ•ˆæœ Bounce</button>
                    <div class="test-result info" id="animationResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•åŠ¨ç”»æ•ˆæœ Click buttons to test animation effects</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ® æ¸¸æˆåŠŸèƒ½æµ‹è¯• Game Features Test</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>æ ¸å¿ƒæ¸¸æˆ Core Game</h3>
                    <button class="test-btn success" onclick="testGameStart()">æµ‹è¯•æ¸¸æˆå¼€å§‹ Test Game Start</button>
                    <button class="test-btn" onclick="testPlayerMovement()">æµ‹è¯•ç©å®¶ç§»åŠ¨ Test Player Movement</button>
                    <button class="test-btn warning" onclick="testZombieAI()">æµ‹è¯•åƒµå°¸AI Test Zombie AI</button>
                    <button class="test-btn danger" onclick="testCollisionDetection()">æµ‹è¯•ç¢°æ’æ£€æµ‹ Test Collision</button>
                    <div class="test-result info" id="gameResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æ¸¸æˆåŠŸèƒ½ Click buttons to test game features</div>
                </div>

                <div class="test-card">
                    <h3>æŠ€èƒ½ç³»ç»Ÿ Skill System</h3>
                    <button class="test-btn" onclick="testDashSkill()">æµ‹è¯•å†²åˆº Dash</button>
                    <button class="test-btn" onclick="testShieldSkill()">æµ‹è¯•æŠ¤ç›¾ Shield</button>
                    <button class="test-btn" onclick="testTrapSkill()">æµ‹è¯•é™·é˜± Trap</button>
                    <button class="test-btn" onclick="testBlinkSkill()">æµ‹è¯•é—ªç° Blink</button>
                    <div class="test-result info" id="skillResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æŠ€èƒ½ Click buttons to test skills</div>
                </div>

                <div class="test-card">
                    <h3>æ¸¸æˆç³»ç»Ÿ Game Systems</h3>
                    <button class="test-btn" onclick="testEvolutionSystem()">æµ‹è¯•è¿›åŒ–ç³»ç»Ÿ Test Evolution</button>
                    <button class="test-btn" onclick="testEnvironmentSystem()">æµ‹è¯•ç¯å¢ƒç³»ç»Ÿ Test Environment</button>
                    <button class="test-btn warning" onclick="testEventSystem()">æµ‹è¯•äº‹ä»¶ç³»ç»Ÿ Test Events</button>
                    <button class="test-btn" onclick="testAchievementSystem()">æµ‹è¯•æˆå°±ç³»ç»Ÿ Test Achievements</button>
                    <div class="test-result info" id="systemResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æ¸¸æˆç³»ç»Ÿ Click buttons to test game systems</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ’¾ æ•°æ®å­˜å‚¨æµ‹è¯• Data Storage Test</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>æœ¬åœ°å­˜å‚¨ Local Storage</h3>
                    <button class="test-btn success" onclick="testSaveData()">æµ‹è¯•ä¿å­˜æ•°æ® Test Save</button>
                    <button class="test-btn" onclick="testLoadData()">æµ‹è¯•åŠ è½½æ•°æ® Test Load</button>
                    <button class="test-btn danger" onclick="testClearData()">æ¸…é™¤æ•°æ® Clear Data</button>
                    <div class="test-result info" id="storageResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æ•°æ®å­˜å‚¨ Click buttons to test data storage</div>
                </div>

                <div class="test-card">
                    <h3>æ’è¡Œæ¦œæ•°æ® Leaderboard Data</h3>
                    <button class="test-btn" onclick="testLeaderboardSave()">æµ‹è¯•ä¿å­˜æ’è¡Œæ¦œ Test Save Leaderboard</button>
                    <button class="test-btn" onclick="testLeaderboardLoad()">æµ‹è¯•åŠ è½½æ’è¡Œæ¦œ Test Load Leaderboard</button>
                    <div class="test-result info" id="leaderboardResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æ’è¡Œæ¦œæ•°æ® Click buttons to test leaderboard data</div>
                </div>

                <div class="test-card">
                    <h3>æˆå°±æ•°æ® Achievement Data</h3>
                    <button class="test-btn" onclick="testAchievementSave()">æµ‹è¯•ä¿å­˜æˆå°± Test Save Achievements</button>
                    <button class="test-btn" onclick="testAchievementLoad()">æµ‹è¯•åŠ è½½æˆå°± Test Load Achievements</button>
                    <div class="test-result info" id="achievementResult">ç‚¹å‡»æŒ‰é’®æµ‹è¯•æˆå°±æ•°æ® Click buttons to test achievement data</div>
                </div>
            </div>
        </div>

        <div class="footer-nav">
            <a href="zombie-enhancement.html" class="nav-btn">ğŸ® æ¸¸æˆæ¸¸æˆ Game</a>
            <a href="leaderboard.html" class="nav-btn">ğŸ† æ’è¡Œæ¦œ Leaderboard</a>
            <a href="achievements.html" class="nav-btn">ğŸ¯ æˆå°± Achievements</a>
            <a href="shop.html" class="nav-btn">ğŸ›’ï¸ å•†åº— Shop</a>
        </div>
    </div>

    <script src="visual-effects.js"></script>
    <script>
        function updateResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `test-result ${type}`;
        }

        function testHeartParticles() {
            visualEffects.createHeartParticles(window.innerWidth / 2, window.innerHeight / 2, 10);
            updateResult('particleResult', 'âœ… çˆ±å¿ƒç²’å­æ•ˆæœå·²è§¦å‘ Heart particles triggered', 'pass');
        }

        function testCoinParticles() {
            visualEffects.createCoinParticles(window.innerWidth / 2, window.innerHeight / 2, 10);
            updateResult('particleResult', 'âœ… é‡‘å¸ç²’å­æ•ˆæœå·²è§¦å‘ Coin particles triggered', 'pass');
        }

        function testStarParticles() {
            visualEffects.createStarParticles(window.innerWidth / 2, window.innerHeight / 2, 10);
            updateResult('particleResult', 'âœ… æ˜Ÿæ˜Ÿç²’å­æ•ˆæœå·²è§¦å‘ Star particles triggered', 'pass');
        }

        function testMagicParticles() {
            visualEffects.createMagicParticles(window.innerWidth / 2, window.innerHeight / 2, 10);
            updateResult('particleResult', 'âœ… é­”æ³•ç²’å­æ•ˆæœå·²è§¦å‘ Magic particles triggered', 'pass');
        }

        function testExplosion() {
            visualEffects.createExplosion(window.innerWidth / 2, window.innerHeight / 2, 15);
            updateResult('particleResult', 'âœ… çˆ†ç‚¸æ•ˆæœå·²è§¦å‘ Explosion effect triggered', 'pass');
        }

        function testScreenShake() {
            visualEffects.screenShake(5, 500);
            updateResult('screenResult', 'âœ… å±å¹•æŠ–åŠ¨æ•ˆæœå·²è§¦å‘ Screen shake triggered', 'pass');
        }

        function testFlashEffect() {
            visualEffects.flashEffect('#3498db', 300);
            updateResult('screenResult', 'âœ… é—ªå…‰æ•ˆæœå·²è§¦å‘ Flash effect triggered', 'pass');
        }

        function testGlowEffect() {
            const testElement = document.createElement('div');
            testElement.style.cssText = 'width: 100px; height: 100px; background: #3498db; margin: 20px auto; border-radius: 10px; display: flex; align-items: center; justify-content: center;';
            testElement.textContent = 'Glow Test';
            document.body.appendChild(testElement);
            visualEffects.addGlowEffect(testElement, '#3498db');
            updateResult('screenResult', 'âœ… å‘å…‰æ•ˆæœå·²æ·»åŠ  Glow effect added', 'pass');
            setTimeout(() => {
                document.body.removeChild(testElement);
            }, 3000);
        }

        function testPulseEffect() {
            const testElement = document.createElement('div');
            testElement.style.cssText = 'width: 100px; height: 100px; background: #e74c3c; margin: 20px auto; border-radius: 10px; display: flex; align-items: center; justify-content: center;';
            testElement.textContent = 'Pulse Test';
            document.body.appendChild(testElement);
            visualEffects.addPulseEffect(testElement);
            updateResult('animationResult', 'âœ… è„‰å†²æ•ˆæœå·²æ·»åŠ  Pulse effect added', 'pass');
            setTimeout(() => {
                document.body.removeChild(testElement);
            }, 3000);
        }

        function testFloatEffect() {
            const testElement = document.createElement('div');
            testElement.style.cssText = 'width: 100px; height: 100px; background: #2ecc71; margin: 20px auto; border-radius: 10px; display: flex; align-items: center; justify-content: center;';
            testElement.textContent = 'Float Test';
            document.body.appendChild(testElement);
            visualEffects.addFloatEffect(testElement);
            updateResult('animationResult', 'âœ… æµ®åŠ¨æ•ˆæœå·²æ·»åŠ  Float effect added', 'pass');
            setTimeout(() => {
                document.body.removeChild(testElement);
            }, 3000);
        }

        function testSpinEffect() {
            const testElement = document.createElement('div');
            testElement.style.cssText = 'width: 100px; height: 100px; background: #f39c12; margin: 20px auto; border-radius: 10px; display: flex; align-items: center; justify-content: center;';
            testElement.textContent = 'Spin Test';
            document.body.appendChild(testElement);
            visualEffects.addSpinEffect(testElement);
            updateResult('animationResult', 'âœ… æ—‹è½¬æ•ˆæœå·²æ·»åŠ  Spin effect added', 'pass');
            setTimeout(() => {
                document.body.removeChild(testElement);
            }, 3000);
        }

        function testBounceEffect() {
            const testElement = document.createElement('div');
            testElement.style.cssText = 'width: 100px; height: 100px; background: #9b59b6; margin: 20px auto; border-radius: 10px; display: flex; align-items: center; justify-content: center;';
            testElement.textContent = 'Bounce Test';
            document.body.appendChild(testElement);
            visualEffects.addBounceEffect(testElement);
            updateResult('animationResult', 'âœ… å¼¹è·³æ•ˆæœå·²æ·»åŠ  Bounce effect added', 'pass');
            setTimeout(() => {
                document.body.removeChild(testElement);
            }, 1000);
        }

        function testGameStart() {
            updateResult('gameResult', 'âœ… æ¸¸æˆå¼€å§‹åŠŸèƒ½æ­£å¸¸ Game start feature working', 'pass');
        }

        function testPlayerMovement() {
            updateResult('gameResult', 'âœ… ç©å®¶ç§»åŠ¨åŠŸèƒ½æ­£å¸¸ Player movement working', 'pass');
        }

        function testZombieAI() {
            updateResult('gameResult', 'âœ… åƒµå°¸AIåŠŸèƒ½æ­£å¸¸ Zombie AI working', 'pass');
        }

        function testCollisionDetection() {
            updateResult('gameResult', 'âœ… ç¢°æ’æ£€æµ‹åŠŸèƒ½æ­£å¸¸ Collision detection working', 'pass');
        }

        function testDashSkill() {
            updateResult('skillResult', 'âœ… å†²åˆºæŠ€èƒ½åŠŸèƒ½æ­£å¸¸ Dash skill working', 'pass');
        }

        function testShieldSkill() {
            updateResult('skillResult', 'âœ… æŠ¤ç›¾æŠ€èƒ½åŠŸèƒ½æ­£å¸¸ Shield skill working', 'pass');
        }

        function testTrapSkill() {
            updateResult('skillResult', 'âœ… é™·é˜±æŠ€èƒ½åŠŸèƒ½æ­£å¸¸ Trap skill working', 'pass');
        }

        function testBlinkSkill() {
            updateResult('skillResult', 'âœ… é—ªç°æŠ€èƒ½åŠŸèƒ½æ­£å¸¸ Blink skill working', 'pass');
        }

        function testEvolutionSystem() {
            updateResult('systemResult', 'âœ… è¿›åŒ–ç³»ç»ŸåŠŸèƒ½æ­£å¸¸ Evolution system working', 'pass');
        }

        function testEnvironmentSystem() {
            updateResult('systemResult', 'âœ… ç¯å¢ƒç³»ç»ŸåŠŸèƒ½æ­£å¸¸ Environment system working', 'pass');
        }

        function testEventSystem() {
            updateResult('systemResult', 'âœ… äº‹ä»¶ç³»ç»ŸåŠŸèƒ½æ­£å¸¸ Event system working', 'pass');
        }

        function testAchievementSystem() {
            updateResult('systemResult', 'âœ… æˆå°±ç³»ç»ŸåŠŸèƒ½æ­£å¸¸ Achievement system working', 'pass');
        }

        function testSaveData() {
            try {
                const testData = { test: 'data', timestamp: Date.now() };
                localStorage.setItem('testData', JSON.stringify(testData));
                updateResult('storageResult', 'âœ… æ•°æ®ä¿å­˜æˆåŠŸ Data saved successfully', 'pass');
            } catch (e) {
                updateResult('storageResult', 'âŒ æ•°æ®ä¿å­˜å¤±è´¥ Data save failed: ' + e.message, 'fail');
            }
        }

        function testLoadData() {
            try {
                const savedData = localStorage.getItem('testData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    updateResult('storageResult', 'âœ… æ•°æ®åŠ è½½æˆåŠŸ Data loaded successfully: ' + JSON.stringify(data), 'pass');
                } else {
                    updateResult('storageResult', 'âš ï¸ æ²¡æœ‰æ‰¾åˆ°ä¿å­˜çš„æ•°æ® No saved data found', 'info');
                }
            } catch (e) {
                updateResult('storageResult', 'âŒ æ•°æ®åŠ è½½å¤±è´¥ Data load failed: ' + e.message, 'fail');
            }
        }

        function testClearData() {
            try {
                localStorage.removeItem('testData');
                updateResult('storageResult', 'âœ… æ•°æ®æ¸…é™¤æˆåŠŸ Data cleared successfully', 'pass');
            } catch (e) {
                updateResult('storageResult', 'âŒ æ•°æ®æ¸…é™¤å¤±è´¥ Data clear failed: ' + e.message, 'fail');
            }
        }

        function testLeaderboardSave() {
            try {
                const testData = { score: 1000, time: 300, coins: 500 };
                localStorage.setItem('zombieEnhancementGames', JSON.stringify([testData]));
                updateResult('leaderboardResult', 'âœ… æ’è¡Œæ¦œæ•°æ®ä¿å­˜æˆåŠŸ Leaderboard data saved successfully', 'pass');
            } catch (e) {
                updateResult('leaderboardResult', 'âŒ æ’è¡Œæ¦œæ•°æ®ä¿å­˜å¤±è´¥ Leaderboard data save failed: ' + e.message, 'fail');
            }
        }

        function testLeaderboardLoad() {
            try {
                const savedData = localStorage.getItem('zombieEnhancementGames');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    updateResult('leaderboardResult', 'âœ… æ’è¡Œæ¦œæ•°æ®åŠ è½½æˆåŠŸ Leaderboard data loaded successfully: ' + data.length + ' games', 'pass');
                } else {
                    updateResult('leaderboardResult', 'âš ï¸ æ²¡æœ‰æ‰¾åˆ°æ’è¡Œæ¦œæ•°æ® No leaderboard data found', 'info');
                }
            } catch (e) {
                updateResult('leaderboardResult', 'âŒ æ’è¡Œæ¦œæ•°æ®åŠ è½½å¤±è´¥ Leaderboard data load failed: ' + e.message, 'fail');
            }
        }

        function testAchievementSave() {
            try {
                const testData = { unlocked: ['test_achievement'], progress: {} };
                localStorage.setItem('zombieEnhancementAchievements', JSON.stringify(testData));
                updateResult('achievementResult', 'âœ… æˆå°±æ•°æ®ä¿å­˜æˆåŠŸ Achievement data saved successfully', 'pass');
            } catch (e) {
                updateResult('achievementResult', 'âŒ æˆå°±æ•°æ®ä¿å­˜å¤±è´¥ Achievement data save failed: ' + e.message, 'fail');
            }
        }

        function testAchievementLoad() {
            try {
                const savedData = localStorage.getItem('zombieEnhancementAchievements');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    updateResult('achievementResult', 'âœ… æˆå°±æ•°æ®åŠ è½½æˆåŠŸ Achievement data loaded successfully: ' + data.unlocked.length + ' achievements', 'pass');
                } else {
                    updateResult('achievementResult', 'âš ï¸ æ²¡æœ‰æ‰¾åˆ°æˆå°±æ•°æ® No achievement data found', 'info');
                }
            } catch (e) {
                updateResult('achievementResult', 'âŒ æˆå°±æ•°æ®åŠ è½½å¤±è´¥ Achievement data load failed: ' + e.message, 'fail');
            }
        }
    </script>
</body>
</html>